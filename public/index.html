<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Company Analytics 360</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 20px;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      background: #f0f0f0;
      border-radius: 5px;
      margin-bottom: 20px;
      max-width: 1400px;
      margin-left: auto;
      margin-right: auto;
    }
    .top-bar-title {
      font-size: 26px;
      font-weight: 600;
      color: #333;
    }
    #user-info {
      font-size: 14px;
    }
    .hidden {
      display: none;
    }
    .report-section {
      display: flex;
      gap: 0;
      max-width: 1400px;
      margin-left: auto;
      margin-right: auto;
    }
    .report-menu {
      width: 200px;
      flex-shrink: 0;
      background: #f8f8f8;
      border-right: 1px solid #e0e0e0;
      padding: 10px 0;
    }
    .report-menu-item {
      display: block;
      width: 100%;
      padding: 16px 20px;
      background: none;
      border: none;
      text-align: left;
      font-size: 15px;
      color: #333;
      cursor: pointer;
      transition: background 0.2s, border-left 0.2s;
      border-left: 3px solid transparent;
    }
    .report-menu-item:hover {
      background: #e8e8e8;
    }
    .report-menu-item.active {
      background: #e0e7ef;
      border-left: 3px solid #0078d4;
      color: #0078d4;
      font-weight: 500;
    }
    .report-container {
      flex: 1;
      min-width: 0;
    }
    #embedContainer {
      width: 100%;
      aspect-ratio: 16 / 9;
      border: none;
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }
  </style>
</head>
<body>
  <div id="top-bar" class="top-bar hidden">
    <span class="top-bar-title">Company Analytics 360</span>
    <span id="user-info">Signed in as: <strong id="user-name"></strong> (<span id="user-email"></span>)</span>
  </div>

  <div id="report-section" class="report-section hidden">
    <nav id="report-buttons" class="report-menu"></nav>
    <div class="report-container">
      <div id="embedContainer"></div>
    </div>
  </div>

  <!-- MSAL library from CDN -->
  <script src="https://alcdn.msauth.net/browser/2.38.0/js/msal-browser.min.js"></script>
  
  <!-- Power BI client library -->
  <script src="/node_modules/powerbi-client/dist/powerbi.min.js"></script>
  
  <!-- App scripts -->
  <script src="/js/logger.js"></script>
  <script src="/js/authConfig.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/embed.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
